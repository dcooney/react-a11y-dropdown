import n from"classnames";import t,{useState as e,useRef as r,useEffect as o,useImperativeHandle as u}from"react";import i,{css as l}from"styled-components";function s(){return s=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},s.apply(this,arguments)}function a(n,t){return t||(t=n.slice(0)),n.raw=t,n}var c,d,f,p,y,v,b={background:"#eef1f4",border:"1px solid #d6d9dc",borderRadius:"3px",color:"#494a4c",fontSize:"14px",fontWeight:null,margin:"0",padding:"8px 12px",transition:null,width:null,hover:{background:"#eaedef",borderColor:"#c1c3c6",borderRadius:null,color:"#242526"},active:{background:null,borderColor:null,borderRadius:null,color:null}},m={background:"#fff",border:"1px solid #d6d9dc",borderRadius:"3px",bottom:null,boxShadow:"0 8px 16px rgba(88, 92, 95, 0.1)",display:"block",left:"0",margin:"5px 0 0",padding:"10px",position:"absolute",right:null,transform:null,transition:"all 0.15s ease",top:"100%",width:"250px",zIndex:99999,active:{bottom:null,display:null,left:null,right:null,top:null,transform:null}},g={width:"auto",position:"relative"},x=l(c||(c=a(["\n   width: ",";\n"])),function(n){return L(n.styles.width)}),w=i.div(d||(d=a(["\n   position: ",";\n   ","\n"])),function(n){return L(n.styles.position)?n.styles.position:"static"},function(n){return n.useStyles?x:null}),k=l(f||(f=a(["\n   background: ",";\n   border: ",";\n   border-color: ",";\n   border-radius: ",";\n   color: ",";\n   cursor: pointer;\n   font-size: ",";\n   font-weight: ",";\n   margin: ",";\n   padding: ",";\n   transition: ",";\n   width: ",";\n   &:after {\n      content: '';\n      display: inline-block;\n      margin: 0 3px;\n      position: relative;\n      left: 4px;\n      top: 3px;\n      border-color: currentColor transparent transparent;\n      border-width: 5px 4px;\n      border-style: solid;\n      opacity: 0.55;\n   }\n   :hover,\n   :focus {\n      color: ",";\n      background: ",";\n      border-color: ",";\n      border-radius: ",";\n      &:after {\n         opacity: 0.75;\n      }\n   }\n   &.active {\n      color: ",";\n      background: ",";\n      border-color: ",";\n      border-radius: ",";\n   }\n"])),function(n){return L(n.styles.background)},function(n){return L(n.styles.border)},function(n){return L(n.styles.borderColor)},function(n){return L(n.styles.borderRadius)},function(n){return L(n.styles.color)},function(n){return L(n.styles.fontSize)},function(n){return L(n.styles.fontWeight)},function(n){return L(n.styles.margin)},function(n){return L(n.styles.padding)},function(n){return L(n.styles.transition)},function(n){return L(n.styles.width)},function(n){return L(n.styles.hover.color)},function(n){return L(n.styles.hover.background)},function(n){return L(n.styles.hover.borderColor)},function(n){return L(n.styles.hover.borderRadius)},function(n){return L(n.styles.active.color)},function(n){return L(n.styles.active.background)},function(n){return L(n.styles.active.borderColor)},function(n){return L(n.styles.active.borderRadius)}),C=i.button(p||(p=a(["\n   ","\n"])),function(n){return n.useStyles?k:null}),E=l(y||(y=a(["\n   background-color: ",";\n   border: ",";\n   border-color: ",";\n   border-radius: ",";\n   bottom: ",";\n   box-shadow: ",";\n   display: ",";\n   left: ",";\n   margin: ",";\n   padding: ",";\n   right: ",";\n   top: ",";\n   transform: ",";\n   transition: ",";\n   width: ",";\n   &.active {\n      bottom: ",";\n      display: ",";\n      left: ",";\n      right: ",";\n      top: ",";\n      transform: ",";\n   }\n"])),function(n){return L(n.styles.background)},function(n){return L(n.styles.border)},function(n){return L(n.styles.borderColor)},function(n){return L(n.styles.borderRadius)},function(n){return L(n.styles.bottom)},function(n){return L(n.styles.boxShadow)},function(n){return L(n.styles.display)},function(n){return L(n.styles.left)},function(n){return L(n.styles.margin)},function(n){return L(n.styles.padding)},function(n){return L(n.styles.right)},function(n){return L(n.styles.top)},function(n){return L(n.styles.transform)},function(n){return L(n.styles.transition)},function(n){return L(n.styles.width)},function(n){return L(n.styles.active.bottom)},function(n){return L(n.styles.active.display)},function(n){return L(n.styles.active.left)},function(n){return L(n.styles.active.right)},function(n){return L(n.styles.active.top)},function(n){return L(n.styles.active.transform)}),S=i.div(v||(v=a(["\n   display: ",";\n   opacity: ",";\n   position: ",";\n   visibility: ",";\n   z-index: ",";\n   pointer-events: ",";\n   ","\n"])),function(n){return L(n.styles.display)},function(n){return n.expanded?"1":"0"},function(n){return L(n.styles.position)},function(n){return n.expanded?"visible":"hidden"},function(n){return L(n.styles.zIndex)},function(n){return n.expanded?"auto":"none"},function(n){return n.useStyles?E:null});function L(n){return null!==n&&n}var A=t.forwardRef(function(t,i){var l,a=t.id,c=t.label,d=t.isMenu,f=void 0===d||d,p=t.children,y=t.useStyles,v=void 0===y||y,x=t.search,k=void 0!==x&&x,E=t.className,L=t.activeClassName,A=t.buttonClassName,N=t.activeButtonClassName,R=t.dropdownClassName,D=t.activeDropdownClassName,O=t.config,z=t.onHover,M=void 0!==z&&z,T=t.href,q=e(!1),I=q[0],j=q[1],H=e(a||function(n){for(var t="",e=0;e<10;e++)t+="0123456789".charAt(Math.floor(10*Math.random()));return t}())[0],P=r(!1),U=r(),F=r(),W=r(),_='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])',B=null,K=O||{},G=K.container,J=K.button,Q=K.dropdown,V=s({},b,J,{hover:s({},b.hover,null==J?void 0:J.hover),active:s({},b.active,null==J?void 0:J.active)}),X=s({},m,Q,{active:s({},m.active,null==Q?void 0:Q.active)}),Y=s({},g,G);function Z(){var n=F.current.querySelectorAll(_);n&&n.forEach(function(n){n.tabIndex="-1"})}function $(n){var t=F.current.querySelectorAll(_);if(t){Z();var e=document.activeElement,r=n.target,o=function(n,t){var e=Array.prototype.slice.call(t);return{index:e.indexOf(n),length:e.length-1}}(e,t),u=o.index,i=o.length,l=n.shiftKey,s=n.key;if(null!=U&&U.current.contains(e)&&0!==t.length)if(l){if("Tab"===s)return void j(!1)}else switch(s){case" ":case"Enter":break;case"Esc":case"Escape":on(W.current),j(!1);break;case"ArrowDown":case"Down":if(e===W.current)on(t[0]),j(!0);else{var a=u===i?0:u+1;t[a]&&on(t[a])}n.preventDefault();break;case"Up":case"ArrowUp":var c=0===u?i:u-1;t[c]&&on(t[c]),n.preventDefault();break;case"Home":case"PageUp":on(t[0]),n.preventDefault();break;case"End":case"PageDown":on(t[t.length-1]),n.preventDefault();break;default:k&&function(n,t){var e=F.current.querySelectorAll(_),r=0,o=0;if(!(t.length>1)&&e){var u=Array.prototype.slice.call(e),i=u&&u.map(function(n){return null!=n&&n.textContent?n.textContent.trim()[0].toLowerCase():""});(r=u.indexOf(n)+1)>=u.length&&(r=0),-1===(o=i.indexOf(t.toLowerCase(),r))&&(o=i.indexOf(t.toLowerCase(),0)),o>-1&&on(u[o])}}(r,s)}else switch(s){case"Esc":case"Escape":j(!1)}}}function nn(){document.addEventListener("mousemove",tn),Z(),j(!0)}function tn(n){clearTimeout(B),B=setTimeout(function(){null!=U&&U.current.contains(n.target)||(j(!1),document.removeEventListener("mousemove",tn))},25)}function en(n){n&&null!=n&&n.target&&(null!=F&&F.current.contains(n.target)||null!=W&&W.current.contains(n.target)||j(!1))}function rn(n){null!=U&&U.current.contains(n.target)||j(!1)}function on(n){n&&setTimeout(function(){n.focus({preventScroll:!0})},20)}return o(function(){return Z(),P.current||(document.addEventListener("click",en),document.addEventListener("keyup",rn),document.addEventListener("keydown",$),P.current=!0),function(){document.removeEventListener("click",en),document.removeEventListener("keyup",rn),document.removeEventListener("keydown",$)}},[]),u(i,function(){return{close:function(){j(!1)}}}),h(Fragment,null,!!c&&h(w,{ref:U,id:"dropdown-"+H,className:n("react-a11y-dropdown",E&&E,I?"expanded":null,I&&L?L:null),useStyles:v,styles:Y},h(C,{as:T?"a":null,href:T||null,ref:W,id:"button-"+H,className:n("react-a11y-dropdown--button",A&&A,I?"active":null,I&&N?N:null),useStyles:v,styles:V,onClick:function(){return n=F.current.querySelectorAll(_),I||Z(),n&&!I&&on(n[0]),void j(function(n){return!n});var n},dangerouslySetInnerHTML:(l=c,{__html:l}),"aria-expanded":I?"true":"false","aria-haspopup":"true","aria-controls":f?"menu-"+H:null,onFocus:function(){return M&&nn()},onMouseEnter:function(){return M&&nn()}}),h(S,{ref:F,id:"menu-"+H,className:n("react-a11y-dropdown--menu",R&&R,I?"active":null,I&&D?D:null),useStyles:v,styles:X,expanded:I,"aria-hidden":I?"false":"true","aria-labelledby":f?"button-"+H:null,role:f?"menu":null},p)))});export{A as default};
//# sourceMappingURL=index.js.map
