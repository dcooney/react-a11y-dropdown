{"version":3,"file":"index.modern.mjs","sources":["../src/lib/defaults.js","../src/lib/styles.js","../src/lib/DropDown.js"],"sourcesContent":["/**\n * Default component props.\n */\nexport const defaults = {\n   button: {\n      background: '#eef1f4',\n      border: '1px solid #d6d9dc',\n      borderRadius: '3px',\n      color: '#494a4c',\n      fontSize: '14px',\n      fontWeight: null,\n      margin: '0',\n      padding: '8px 12px',\n      transition: null,\n      width: null,\n      hover: {\n         background: '#eaedef',\n         borderColor: '#c1c3c6',\n         borderRadius: null,\n         color: '#242526'\n      },\n      active: {\n         background: null,\n         borderColor: null,\n         borderRadius: null,\n         color: null\n      }\n   },\n   dropdown: {\n      background: '#fff',\n      border: '1px solid #d6d9dc',\n      borderRadius: '3px',\n      bottom: null,\n      boxShadow: '0 8px 16px rgba(88, 92, 95, 0.1)',\n      display: 'block',\n      left: '0',\n      margin: '5px 0 0',\n      padding: '10px',\n      position: 'absolute',\n      right: null,\n      transform: null,\n      transition: 'all 0.15s ease',\n      top: '100%',\n      width: '250px',\n      zIndex: 99999,\n      active: {\n         bottom: null,\n         display: null,\n         left: null,\n         right: null,\n         top: null,\n         transform: null\n      }\n   },\n   container: {\n      width: 'auto',\n      position: 'relative'\n   }\n}\n","import styled, {css} from 'styled-components'\n\nconst ContainerStyles = css`\n   width: ${(props) => getProp(props.styles.width)};\n`\nexport const Container = styled.div`\n   position: ${(props) =>\n      getProp(props.styles.position) ? props.styles.position : 'static'};\n   ${(props) => (props.useStyles ? ContainerStyles : null)}\n`\n\nconst ButtonStyles = css`\n   background: ${(props) => getProp(props.styles.background)};\n   border: ${(props) => getProp(props.styles.border)};\n   border-color: ${(props) => getProp(props.styles.borderColor)};\n   border-radius: ${(props) => getProp(props.styles.borderRadius)};\n   color: ${(props) => getProp(props.styles.color)};\n   cursor: pointer;\n   font-size: ${(props) => getProp(props.styles.fontSize)};\n   font-weight: ${(props) => getProp(props.styles.fontWeight)};\n   margin: ${(props) => getProp(props.styles.margin)};\n   padding: ${(props) => getProp(props.styles.padding)};\n   transition: ${(props) => getProp(props.styles.transition)};\n   width: ${(props) => getProp(props.styles.width)};\n   &:after {\n      content: '';\n      display: inline-block;\n      margin: 0 3px;\n      position: relative;\n      left: 4px;\n      top: 3px;\n      border-color: currentColor transparent transparent;\n      border-width: 5px 4px;\n      border-style: solid;\n      opacity: 0.55;\n   }\n   :hover,\n   :focus {\n      color: ${(props) => getProp(props.styles.hover.color)};\n      background: ${(props) => getProp(props.styles.hover.background)};\n      border-color: ${(props) => getProp(props.styles.hover.borderColor)};\n      border-radius: ${(props) => getProp(props.styles.hover.borderRadius)};\n      &:after {\n         opacity: 0.75;\n      }\n   }\n   &.active {\n      color: ${(props) => getProp(props.styles.active.color)};\n      background: ${(props) => getProp(props.styles.active.background)};\n      border-color: ${(props) => getProp(props.styles.active.borderColor)};\n      border-radius: ${(props) => getProp(props.styles.active.borderRadius)};\n   }\n`\nexport const Button = styled.button`\n   ${(props) => (props.useStyles ? ButtonStyles : null)}\n`\n\nexport const MenuStyles = css`\n   background-color: ${(props) => getProp(props.styles.background)};\n   border: ${(props) => getProp(props.styles.border)};\n   border-color: ${(props) => getProp(props.styles.borderColor)};\n   border-radius: ${(props) => getProp(props.styles.borderRadius)};\n   bottom: ${(props) => getProp(props.styles.bottom)};\n   box-shadow: ${(props) => getProp(props.styles.boxShadow)};\n   display: ${(props) => getProp(props.styles.display)};\n   left: ${(props) => getProp(props.styles.left)};\n   margin: ${(props) => getProp(props.styles.margin)};\n   padding: ${(props) => getProp(props.styles.padding)};\n   right: ${(props) => getProp(props.styles.right)};\n   top: ${(props) => getProp(props.styles.top)};\n   transform: ${(props) => getProp(props.styles.transform)};\n   transition: ${(props) => getProp(props.styles.transition)};\n   width: ${(props) => getProp(props.styles.width)};\n   &.active {\n      bottom: ${(props) => getProp(props.styles.active.bottom)};\n      display: ${(props) => getProp(props.styles.active.display)};\n      left: ${(props) => getProp(props.styles.active.left)};\n      right: ${(props) => getProp(props.styles.active.right)};\n      top: ${(props) => getProp(props.styles.active.top)};\n      transform: ${(props) => getProp(props.styles.active.transform)};\n   }\n`\nexport const Menu = styled.div`\n   display: ${(props) => getProp(props.styles.display)};\n   opacity: ${(props) => (props.expanded ? '1' : '0')};\n   position: ${(props) => getProp(props.styles.position)};\n   visibility: ${(props) => (props.expanded ? 'visible' : 'hidden')};\n   z-index: ${(props) => getProp(props.styles.zIndex)};\n   pointer-events: ${(props) => (props.expanded ? 'auto' : 'none')};\n   ${(props) => (props.useStyles ? MenuStyles : null)}\n`\n\n/**\n * Get style prop, only return if not null.\n *\n * @param   {string||boolean} prop The property to compare.\n * @returns {string}               The CSS prop value.\n */\nfunction getProp(prop) {\n   return prop !== null && prop\n}\n","import cn from 'classnames'\nimport React, {useEffect, useImperativeHandle, useRef, useState} from 'react'\nimport {defaults} from './defaults'\nimport {Button, Container, Menu} from './styles'\n\n/**\n * Accessible Dropdown component for React.\n *\n * @param {object}   props                         The component props.\n * @param {string}   props.id                      An optional ID for the dropdown.\n * @param {string}   props.label                   The button text for opening the dropdown.\n * @param {boolean}  props.isMenu                  Is this a menu button group?\n * @param {object}   props.children                Component children.\n * @param {boolean}  props.useStyles               Should the component use the OOTB styling.\n * @param {boolean}  props.search                  Enbale searching dropdown menu contents by first letter when dropdown is in open state.\n * @param {string}   props.className               Classnames for the dropdown container.\n * @param {string}   props.activeClassName         Classnames for the dropdown container whilst active.\n * @param {string}   props.buttonClassName         Classnames for the button element.\n * @param {string}   props.activeButtonClassName   Classnames for the button element whilst active.\n * @param {string}   props.dropdownClassName       Classnames for the dropdown/menu element.\n * @param {string}   props.activeDropdownClassName Classnames for the dropdown/menu element whilst active.\n * @param {object}   props.config                  Override styling configuration for the component.\n * @param {boolean}  props.onHover                 Open the menu on mouse hover.\n * @param {string}   props.href                    The link to attach to the button element.\n * @returns {Element}                              The DropDown component.\n */\nconst DropDown = React.forwardRef((props, ref) => {\n   const {\n      id,\n      label,\n      isMenu = true,\n      children,\n      useStyles = true,\n      search = false,\n      className,\n      activeClassName,\n      buttonClassName,\n      activeButtonClassName,\n      dropdownClassName,\n      activeDropdownClassName,\n      config,\n      onHover = false,\n      href\n   } = props\n   const [expanded, setExpanded] = useState(false)\n   const [theId] = useState(id ? id : generateId(10)) // Generate random ID if not specified.\n   const loaded = useRef(false)\n   const containerRef = useRef()\n   const menuRef = useRef()\n   const buttonRef = useRef()\n   const focusable =\n      'a[href], button, input, textarea, select, details, [tabindex]:not([tabindex=\"-1\"])'\n   let hoverIntent = null\n\n   // Get styling config.\n   const {container, button, dropdown} = config ? config : {}\n   const buttonStyles = {\n      ...defaults.button,\n      ...button,\n      hover: {\n         ...defaults.button.hover,\n         ...button?.hover\n      },\n      active: {\n         ...defaults.button.active,\n         ...button?.active\n      }\n   }\n   const menuStyles = {\n      ...defaults.dropdown,\n      ...dropdown,\n      active: {\n         ...defaults.dropdown.active,\n         ...dropdown?.active\n      }\n   }\n   const containerStyles = {...defaults.container, ...container}\n\n   /**\n    * Set all the focusable elements in the dropdown.\n    */\n   function setFocusable() {\n      const elements = menuRef.current.querySelectorAll(focusable)\n      if (elements) {\n         elements.forEach((item) => {\n            item.tabIndex = '-1'\n         })\n      }\n   }\n\n   /**\n    * Handle keyboard controls.\n    *\n    * @param {Event} event The click event.\n    */\n   function keyboardControls(event) {\n      const elements = menuRef.current.querySelectorAll(focusable)\n      if (!elements) {\n         return\n      }\n\n      setFocusable()\n\n      const active = document.activeElement\n      const target = event.target\n      const {index, length} = getActiveIndex(active, elements)\n      const {shiftKey, key} = event\n\n      // Exit if elements are not focusable.\n      if (!containerRef?.current.contains(active) || elements.length === 0) {\n         switch (key) {\n            // Exit if esc and no focusable elements.\n            case 'Esc':\n            case 'Escape': // Escape\n               setExpanded(false)\n               break\n\n            default:\n               break\n         }\n         return\n      }\n\n      if (shiftKey) {\n         // Shift + Tab\n         if (key === 'Tab') {\n            setExpanded(false)\n            return\n         }\n      } else {\n         switch (key) {\n            case ' ':\n            case 'Enter':\n               //setFocus(buttonRef.current)\n               //setExpanded(false)\n               break\n            case 'Esc':\n            case 'Escape': // Escape\n               setFocus(buttonRef.current)\n               setExpanded(false)\n               break\n\n            case 'ArrowDown':\n            case 'Down': // Down arrow.\n               if (active === buttonRef.current) {\n                  // Focused on trigger then expand the menu.\n                  setFocus(elements[0])\n                  setExpanded(true)\n               } else {\n                  const next = index === length ? 0 : index + 1\n                  elements[next] && setFocus(elements[next])\n               }\n               event.preventDefault()\n               break\n\n            case 'Up':\n            case 'ArrowUp': // Up arrow.\n               const prev = index === 0 ? length : index - 1\n               elements[prev] && setFocus(elements[prev])\n               event.preventDefault()\n               break\n\n            case 'Home':\n            case 'PageUp': // Home.\n               setFocus(elements[0])\n               event.preventDefault()\n               break\n\n            case 'End':\n            case 'PageDown': // End.\n               setFocus(elements[elements.length - 1])\n               event.preventDefault()\n               break\n\n            default:\n               // Search\n               search && searchByFirstLetter(target, key)\n               break\n         }\n      }\n   }\n\n   // On mount.\n   useEffect(() => {\n      setFocusable()\n\n      if (!loaded.current) {\n         document.addEventListener('click', clickOutside)\n         document.addEventListener('keyup', focusOutside)\n         document.addEventListener('keydown', keyboardControls)\n         loaded.current = true\n      }\n\n      return () => {\n         document.removeEventListener('click', clickOutside)\n         document.removeEventListener('keyup', focusOutside)\n         document.removeEventListener('keydown', keyboardControls)\n      }\n   }, [])\n\n   /**\n    * Click handler to toggle the dropdown menu.\n    *\n    * @param {Event} event The click event.\n    */\n   function toggleMenu() {\n      const elements = menuRef.current.querySelectorAll(focusable)\n      if (!expanded) {\n         // Set focusable elements on menu open.\n         setFocusable()\n      }\n      if (elements && !expanded) {\n         // Set initial focus.\n         setFocus(elements[0])\n      }\n      // Set expanded state.\n      setExpanded((expanded) => !expanded)\n   }\n\n   /**\n    * Show the dropdown menu.\n    */\n   function showMenu() {\n      document.addEventListener('mousemove', hideMenuHover)\n      setFocusable()\n      setExpanded(true)\n   }\n\n   /**\n    * Hide dropmenu if mouseout of container element.\n    *\n    * @param {Event} event The mouse event.\n    */\n   function hideMenuHover(event) {\n      clearTimeout(hoverIntent)\n      hoverIntent = setTimeout(function () {\n         if (!containerRef?.current.contains(event.target)) {\n            setExpanded(false)\n            document.removeEventListener('mousemove', hideMenuHover)\n         }\n      }, 25)\n   }\n\n   /**\n    * Allow for setting the expanded state from parent components.\n    * @see https://reactjs.org/docs/hooks-reference.html#useimperativehandle\n    */\n   useImperativeHandle(ref, () => ({\n      /**\n       * Exposed function to close the dropdown.\n       */\n      close() {\n         setExpanded(false)\n      }\n   }))\n\n   /**\n    * Close menu when clicking outside.\n    *\n    * @param {Event} event The click event.\n    */\n   function clickOutside(event) {\n      if (!event || !event?.target) {\n         return // exit if event is null.\n      }\n      if (\n         !menuRef?.current.contains(event.target) &&\n         !buttonRef?.current.contains(event.target)\n      ) {\n         setExpanded(false)\n      }\n   }\n\n   /**\n    * Checks for focus outside of component.\n    *\n    * @param {Event} event The click event.\n    */\n   function focusOutside(event) {\n      if (!containerRef?.current.contains(event.target)) {\n         setExpanded(false)\n      }\n   }\n\n   /**\n    * Search the menu elements by first letter.\n    *\n    * @param {string} current The currently active element.\n    * @param {string} char    The character to search.\n    * @returns null\n    */\n   function searchByFirstLetter(current, char) {\n      const elements = menuRef.current.querySelectorAll(focusable)\n      let start = 0\n      let index = 0\n\n      if (char.length > 1 || !elements) {\n         return\n      }\n\n      const array = Array.prototype.slice.call(elements)\n\n      // First letters.\n      const letters =\n         array &&\n         array.map((item) => {\n            return item?.textContent\n               ? item.textContent.trim()[0].toLowerCase()\n               : ''\n         })\n\n      // Get start item from the position of the current item.\n      start = array.indexOf(current) + 1\n      if (start >= array.length) {\n         start = 0\n      }\n\n      // Check menu elements.\n      index = letters.indexOf(char.toLowerCase(), start)\n\n      // Search from beginning.\n      if (index === -1) {\n         index = letters.indexOf(char.toLowerCase(), 0)\n      }\n\n      // Match found, set focus\n      if (index > -1) {\n         setFocus(array[index])\n      }\n   }\n\n   /**\n    * Get the current index position for the active element.\n    *\n    * @param   {HTMLElement} el       The current element to compare.\n    * @param   {NodeList}    elements The list of elements.\n    * @returns {Boolean}              The current index position in array.\n    */\n   function getActiveIndex(el, elements) {\n      const array = Array.prototype.slice.call(elements) // Convert NodeList to array.\n      return {\n         index: array.indexOf(el),\n         length: array.length - 1\n      }\n   }\n\n   /**\n    * Set focus on element.\n    *\n    * @param {HTMLElement} element The element to recieve focus.\n    */\n   function setFocus(element) {\n      if (!element) {\n         return\n      }\n      setTimeout(() => {\n         element.focus({preventScroll: true})\n      }, 20)\n   }\n\n   /**\n    * Create HTML from a string.\n    *\n    * @param   {string} html The string to set as HTML.\n    * @returns {string}      Returns a string to render as HTML.\n    */\n   function createMarkup(html) {\n      return {\n         __html: html\n      }\n   }\n\n   /**\n    * Generate a random string.\n    *\n    * @param   {int} length The length of the string to generate.\n    * @returns {string}     The generated string.\n    */\n   function generateId(length) {\n      var result = ''\n      var characters = '0123456789'\n      var charactersLength = characters.length\n      for (var i = 0; i < length; i++) {\n         result += characters.charAt(\n            Math.floor(Math.random() * charactersLength)\n         )\n      }\n      return result\n   }\n\n   return (\n      <>\n         {!!label && (\n            <Container\n               ref={containerRef}\n               id={`dropdown-${theId}`}\n               className={cn(\n                  'react-a11y-dropdown',\n                  className && className,\n                  expanded ? 'expanded' : null,\n                  expanded && activeClassName ? activeClassName : null\n               )}\n               useStyles={useStyles}\n               styles={containerStyles}\n            >\n               <Button\n                  as={href ? 'a' : null}\n                  href={href ? href : null}\n                  ref={buttonRef}\n                  id={`button-${theId}`}\n                  className={cn(\n                     'react-a11y-dropdown--button',\n                     buttonClassName && buttonClassName,\n                     expanded ? 'active' : null,\n                     expanded && activeButtonClassName\n                        ? activeButtonClassName\n                        : null\n                  )}\n                  useStyles={useStyles}\n                  styles={buttonStyles}\n                  onClick={() => toggleMenu()}\n                  dangerouslySetInnerHTML={createMarkup(label)}\n                  aria-expanded={expanded ? 'true' : 'false'}\n                  aria-haspopup=\"true\"\n                  aria-controls={isMenu ? `menu-${theId}` : null}\n                  onFocus={() => onHover && showMenu()}\n                  onMouseEnter={() => onHover && showMenu()}\n               ></Button>\n               <Menu\n                  ref={menuRef}\n                  id={`menu-${theId}`}\n                  className={cn(\n                     'react-a11y-dropdown--menu',\n                     dropdownClassName && dropdownClassName,\n                     expanded ? 'active' : null,\n                     expanded && activeDropdownClassName\n                        ? activeDropdownClassName\n                        : null\n                  )}\n                  useStyles={useStyles}\n                  styles={menuStyles}\n                  expanded={expanded}\n                  aria-hidden={expanded ? 'false' : 'true'}\n                  aria-labelledby={isMenu ? `button-${theId}` : null}\n                  role={isMenu ? `menu` : null}\n               >\n                  {children}\n               </Menu>\n            </Container>\n         )}\n      </>\n   )\n})\n\nexport default DropDown\n"],"names":["defaults","background","border","borderRadius","color","fontSize","fontWeight","margin","padding","transition","width","hover","borderColor","active","bottom","boxShadow","display","left","position","right","transform","top","zIndex","_t","_t2","_t3","_t4","_t5","_t6","_","t","ContainerStyles","css","props","getProp","styles","Container","styled","div","useStyles","ButtonStyles","Button","button","MenuStyles","Menu","expanded","prop","DropDown","React","forwardRef","ref","id","label","isMenu","children","search","className","activeClassName","buttonClassName","activeButtonClassName","dropdownClassName","activeDropdownClassName","config","onHover","href","setExpanded","useState","theId","length","result","i","charAt","Math","floor","characters","random","generateId","loaded","useRef","containerRef","menuRef","buttonRef","focusable","hoverIntent","container","dropdown","buttonStyles","_extends","menuStyles","containerStyles","setFocusable","elements","current","querySelectorAll","forEach","item","tabIndex","keyboardControls","event","document","activeElement","target","index","el","array","Array","prototype","slice","call","indexOf","getActiveIndex","shiftKey","key","contains","setFocus","next","preventDefault","prev","char","start","letters","map","textContent","trim","toLowerCase","searchByFirstLetter","showMenu","addEventListener","hideMenuHover","clearTimeout","setTimeout","removeEventListener","clickOutside","focusOutside","element","focus","preventScroll","useEffect","useImperativeHandle","close","h","Fragment","cn","as","onClick","toggleMenu","dangerouslySetInnerHTML","html","__html","onFocus","onMouseEnter","role"],"mappings":"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"}